# Образовательная платформа (фронтенд)

Next.js 14 (App Router), TypeScript, Tailwind CSS, Radix UI. Данные через API или заглушки в `lib/api/`.

## Запуск

```bash
npm install
npm run dev
```

Откройте [http://localhost:3000](http://localhost:3000). Корневой путь `/` перенаправляет на `/tracks`.

## Подключение к бэкенду

Чтобы фронт ходил в Django DRF API:

1. Скопируйте пример конфига: `cp .env.local.example .env.local`
2. В `.env.local` задайте URL бэкенда: `NEXT_PUBLIC_API_URL=http://localhost:8000`
3. Запустите бэкенд (из папки `back/`: `python manage.py runserver`)
4. После входа через `/login` (логин/пароль пользователя бэкенда) списки треков, лекции и задачи подгружаются с API; прогресс по треку и отправка решений сохраняются на бэкенде.

Без `NEXT_PUBLIC_API_URL` приложение работает на встроенных заглушках (без реальных данных и прогресса).

## Маршруты

| Путь | Описание |
|------|----------|
| `/login` | Вход (мок: любой email, токен в localStorage) |
| `/tracks` | Список треков |
| `/tracks/[id]` | Трек с уроками (лекции и задачи) |
| `/lectures/[id]` | Лекция (Markdown) |
| `/tasks/[id]` | Задача: редактор кода, запуск тестов, отправка решения |
| `/admin/tracks/new` | Создание трека |
| `/admin/lectures/new` | Создание лекции |
| `/admin/tasks/new` | Создание задачи (с тестами) |

## Проверка вручную

1. **Логин**: `/login` → ввести email → «Войти» → редирект на `/tracks`.
2. **Треки**: `/tracks` → карточки треков → «Открыть трек» → список уроков.
3. **Лекция**: из трека перейти в лекцию → отображается Markdown.
4. **Задача**: из трека перейти в задачу → ввести код → «Запустить тесты» / «Отправить решение» → панель тестов обновляется (мок).
5. **Админка**: «Создать трек» / «Создать лекцию» / «Создать задачу» → заполнить форму → «Создать» → редирект на новую сущность.

При 401 ответе API токен сбрасывается и выполняется редирект на `/login`.
